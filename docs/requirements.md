# AI 工作助手需求文档

## 1. 概述
AI 工作助手是一款桌面端个人助手软件，采用**项目/笔记本**为核心的知识管理模式。用户可以为特定主题创建项目，添加多种格式的来源文件，通过 AI 对话深度理解来源内容，并生成多种形式的输出成果（笔记、报告、PPT、思维导图、音频等）。

**核心设计理念**：
- 以项目为单位组织知识
- 来源驱动的 AI 对话（AI 基于用户提供的来源回答问题）
- 多样化的输出格式（不仅是文档，还有 PPT、音频、思维导图等）
- 三栏工作室界面（来源 - 对话 - 工作区）

## 2. 目标
- 提供以项目为核心的知识组织与管理体验
- 支持多来源整合（PDF / Word / 图片 / Markdown / 网页）
- AI 对话基于来源内容，提供可溯源的回答
- 支持多种输出格式（笔记、报告、PPT、思维导图、音频摘要）
- AI 能在本地与云端模型之间自由切换
- 保持架构可扩展，便于未来接入更多开源工具

## 2.1 范围说明
- 深度研究（Deep Research）功能放在后续版本开发
- 网络来源搜索放在后续版本开发

## 3. 功能需求（逐条）

### 3.1 首页与项目管理
- REQ-F-001：首页以项目卡片网格形式展示所有项目
- REQ-F-002：支持创建、重命名、删除项目
- REQ-F-003：项目卡片显示图标、标题、更新时间、来源数量
- REQ-F-004：支持按工作空间分类组织项目（如：研究、开发、个人）
- REQ-F-005：支持项目排序（按最后修改时间、名称、创建日期）
- REQ-F-006：支持项目星标收藏
- REQ-F-007：提供「最近访问」快速入口
- REQ-F-008：提供全局搜索，覆盖项目、来源和笔记

### 3.2 来源管理（Sources）
- REQ-F-009：支持拖拽与批量导入来源文件
- REQ-F-010：支持 PDF 来源（预览与文本抽取）
- REQ-F-011：支持 Word 来源（.docx 预览与文本抽取）
- REQ-F-012：支持图片来源（jpg/png，预览与缩略图生成）
- REQ-F-013：支持 Markdown 文件作为来源
- REQ-F-014：来源列表支持全选/单选，用于控制 AI 对话引用范围
- REQ-F-015：来源内容自动抽取并写入向量索引，供语义检索

### 3.3 AI 对话
- REQ-F-016：项目内提供 AI 对话界面，基于选中来源回答问题
- REQ-F-017：AI 输出可附引用链，标注内容来源
- REQ-F-018：支持对话历史记录
- REQ-F-019：支持 API 模型与本地模型双通道切换
- REQ-F-020：支持可配置模型提供方（Claude、Ollama、通义、豆包、DeepSeek、硅基流动）

### 3.4 工作区输出（Studio）
- REQ-F-021：支持生成笔记并保存到工作区
- REQ-F-022：支持生成摘要（Summary）
- REQ-F-023：支持生成 PPT 演示文稿
- REQ-F-024：支持生成分析报告
- REQ-F-025：支持生成思维导图
- REQ-F-026：支持绘图/画布（Canvas）功能
- REQ-F-027：支持生成音频概述（后续版本）
- REQ-F-028：工作区内容持久化存储

### 3.5 笔记编辑
- REQ-F-029：笔记提供所见即所得编辑体验，底层存储为 Markdown
- REQ-F-030：支持标题、列表、引用、代码块、表格、任务清单等常用 Markdown 语法
- REQ-F-031：支持实时编辑与自动保存
- REQ-F-032：支持文档内搜索与定位

### 3.6 画布（Canvas）
- REQ-F-033：支持独立画布文档类型
- REQ-F-034：支持在笔记中嵌入画布块
- REQ-F-035：画布内容可被引用并写入检索索引

### 3.7 搜索与索引
- REQ-F-036：提供全局搜索，覆盖项目、来源和笔记
- REQ-F-037：支持按类型/标签/时间等进行过滤检索
- REQ-F-038：支持语义检索（基于向量索引）

### 3.8 体验与主题
- REQ-F-039：提供浅色/深色主题切换
- REQ-F-040：界面采用三栏布局（来源 - 对话 - 工作区）
- REQ-F-041：支持面板折叠与展开

### 3.9 导出
- REQ-F-042：支持导出笔记为 PDF / Word / Markdown
- REQ-F-043：支持导出 PPT 为标准格式

## 4. 非功能需求
- REQ-N-001：支持 macOS 与 Windows
- REQ-N-002：本地优先，离线可用
- REQ-N-003：数据存储在本地文件系统与本地数据库
- REQ-N-004：性能满足日常使用的流畅体验
- REQ-N-005：AI API 密钥需安全存储
- REQ-N-006：架构可扩展，允许接入更多开源模块

## 5. 约束条件
- REQ-C-001：技术选型需为开源组件（MIT/Apache/BSD 等）
- REQ-C-002：定位为个人工作助手，不包含协作功能

## 6. 验收要点（摘要）
- 首页：项目卡片展示、工作空间分类、全局搜索可用
- 项目管理：可创建/删除项目，项目星标和排序可用
- 来源管理：PDF/Word/图片/Markdown 可导入并预览
- AI 对话：基于选中来源回答问题，输出带引用链
- 工作区：可生成笔记、摘要、PPT、分析报告、思维导图
- 笔记编辑：所见即所得可用，自动保存
- 画布：可创建独立画布并嵌入笔记
- 搜索：全文检索 + 语义检索可用
- 主题：浅色/深色主题可切换
- 导出：支持导出 PDF / Word / Markdown / PPT

## 7. 版本规划（MVP）
**核心功能**：
- 首页项目卡片 + 工作空间分类
- 三栏工作室界面（来源 - 对话 - 工作区）
- 来源管理（PDF/图片/docx/Markdown 导入与预览）
- AI 对话（基于来源，带引用链）
- 工作区输出（笔记、摘要、PPT、报告、思维导图）
- 笔记编辑（所见即所得 + Markdown）
- 画布（独立画布 + 笔记内嵌）
- 全文检索 + 语义检索
- 浅色/深色主题

**后续版本**：
- Deep Research（深度研究）
- 网络来源搜索
- 音频概述生成
- .doc 格式支持
- HEIC 图片支持
